---
interface Tag {
  name: string;
  count: number;
}

interface Props {
  currentPath?: string;
  tags?: Tag[];
  activeTag?: string;
}

const { currentPath = '/', tags = [], activeTag } = Astro.props;

const links = [
  { href: '/', label: 'Projects' },
  { href: '/writing', label: 'Writing' },
];
---

<nav>
    {links.map(link => (
        <a
            href={link.href}
            class:list={[{ active: currentPath === link.href || (link.href !== '/' && currentPath.startsWith(link.href)) }]}
        >
            {link.label}
        </a>
    ))}
    {tags.length > 0 && (
        <>
            <span class="nav-sep">|</span>
            {tags.map(tag => (
                <a
                    href={`/writing/tag/${tag.name}`}
                    class:list={["nav-tag", { active: activeTag === tag.name }]}
                >
                    {tag.name} <span class="nav-tag-count">{tag.count}</span>
                </a>
            ))}
        </>
    )}
</nav>
