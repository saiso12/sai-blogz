---
interface Props {
  tags: { name: string; count: number }[];
  activeTag?: string;
}

const { tags, activeTag } = Astro.props;
const totalPosts = tags.reduce((sum, t) => sum + t.count, 0);
---

<div class="tag-filter">
    <a
        href="/writing"
        class:list={["tag-pill", { active: !activeTag }]}
    >
        all <span class="tag-count">{totalPosts}</span>
    </a>
    {tags.map(tag => (
        <a
            href={`/writing/tag/${tag.name}`}
            class:list={["tag-pill", { active: activeTag === tag.name }]}
        >
            {tag.name} <span class="tag-count">{tag.count}</span>
        </a>
    ))}
</div>
